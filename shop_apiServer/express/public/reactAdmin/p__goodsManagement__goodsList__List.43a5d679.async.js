(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[13],{QBJz:function(e,t,r){e.exports={buttonWrap:"buttonWrap___1TlPJ"}},oUB4:function(e,t,r){"use strict";r.r(t);r("P2fV");var a=r("NJEC"),n=(r("+L6B"),r("2/Rp")),o=(r("14J3"),r("BMrR")),c=(r("jCWc"),r("kPKH")),u=r("WmNS"),i=r.n(u),s=(r("miYZ"),r("tsqr")),d=r("9og8"),p=r("tJVT"),l=(r("5NDa"),r("5rEg")),f=r("q1tI"),m=r.n(f),g=r("Qiat"),h=r("G3dp"),w=r("Lyp1"),b=r("/MfK"),y=r("9kvl"),k=r("RKZ9"),x=r("io9h");function v(e){return _.apply(this,arguments)}function _(){return _=Object(d["a"])(i.a.mark((function e(t){return i.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(x["a"])("".concat(k["a"],"goods"),{method:"get",params:t}));case 1:case"end":return e.stop()}}),e)}))),_.apply(this,arguments)}function j(e){return E.apply(this,arguments)}function E(){return E=Object(d["a"])(i.a.mark((function e(t){return i.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(x["a"])("".concat(k["a"],"goods/").concat(t.goods_id),{method:"delete"}));case 1:case"end":return e.stop()}}),e)}))),E.apply(this,arguments)}function O(e){return z.apply(this,arguments)}function z(){return z=Object(d["a"])(i.a.mark((function e(t){return i.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(x["a"])("".concat(k["a"],"goods/").concat(t.id),{method:"get"}));case 1:case"end":return e.stop()}}),e)}))),z.apply(this,arguments)}var S=r("QBJz"),J=r.n(S),I=l["a"].Search,R=function(){var e=Object(f["useState"])(""),t=Object(p["a"])(e,2),r=t[0],u=t[1],l=Object(f["useRef"])(),x=function(e){u(e),l.current.reload()},_=function(){var e=Object(d["a"])(i.a.mark((function e(t){var r,a;return i.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,j(t);case 2:if(r=e.sent,a=r.meta,200===a.status){e.next=6;break}return e.abrupt("return",s["a"].error(a.msg));case 6:return s["a"].success(a.msg),l.current.reload(),e.abrupt("return",null);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E=function(){var e=Object(d["a"])(i.a.mark((function e(t){var r,a,n,o,c;return i.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,O({id:t});case 2:if(r=e.sent,a=r.data,n=r.meta,200===n.status){e.next=7;break}return e.abrupt("return",s["a"].error(n.msg));case 7:return o=a.goods_cat.split(","),c=o.map(Number),a.goods_cat=c,y["c"].push("/goodsManagement/goodsList/addGoods",{GoodsData:a}),e.abrupt("return",!0);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),z=m.a.createElement(o["a"],null,m.a.createElement(c["a"],{span:8},m.a.createElement(I,{placeholder:"\u8bf7\u8f93\u5165\u5185\u5bb9",onSearch:function(e){return x(e)},size:"large",allowClear:!0}))),S=[{title:"",dataIndex:"index",width:50},{title:"\u5546\u54c1\u540d\u79f0",dataIndex:"goods_name",key:"goods_name"},{title:"\u5546\u54c1\u4ef7\u683c(\u5143)",dataIndex:"goods_price",key:"goods_price",width:100},{title:"\u5546\u54c1\u91cd\u91cf",dataIndex:"goods_weight",key:"goods_weight",width:100},{title:"\u5546\u54c1\u521b\u5efa\u65f6\u95f4",dataIndex:"add_time",key:"add_time",width:170,render:function(e){return Object(k["c"])(e)}},{title:"\u64cd\u4f5c",width:140,dataIndex:"goods_id",key:"goods_id",render:function(e,t){return m.a.createElement("div",{className:J.a.buttonWrap},m.a.createElement(n["a"],{type:"primary",onClick:function(){return E(e)}},m.a.createElement(h["a"],{style:{fontSize:"13px"}})),m.a.createElement(a["a"],{placement:"topRight",title:"\u786e\u5b9a\u8981\u5220\u9664\u8be5\u7528\u6237\u5417\uff1f",icon:m.a.createElement(w["a"],{style:{color:"red"}}),onConfirm:function(){return _(t)}},m.a.createElement(n["a"],{type:"primary",danger:!0},m.a.createElement(b["a"],{style:{fontSize:"13px"}}))))}}];return m.a.createElement(g["a"],{rowKey:"key",actionRef:l,columns:S,bordered:!0,search:!1,options:{setting:!1},headerTitle:z,toolBarRender:function(){return[m.a.createElement(n["a"],{key:"3",type:"primary",onClick:function(){return y["c"].push("/goodsManagement/goodsList/addGoods")}},"\u6dfb\u52a0\u5546\u54c1")]},pagination:{defaultPageSize:10,pageSizeOptions:["5","10","15","20"],showQuickJumper:!0},request:function(){var e=Object(d["a"])(i.a.mark((function e(t){var a,n,o,c,u;return i.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={query:r,pagenum:t.current,pagesize:t.pageSize},e.next=3,v(a);case 3:if(n=e.sent,o=n.data,c=n.meta,200===c.status){e.next=8;break}return e.abrupt("return");case 8:return o.goods.map((function(e,t){var r=e;return r.key=e.goods_id,r.index=t+1,r})),u={data:o.goods,total:o.total,success:!0,pageSize:t.pageSize,current:t.current},e.abrupt("return",u);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})};t["default"]=R}}]);