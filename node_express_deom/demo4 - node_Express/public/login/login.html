<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1.0" /><title>登录</title><link rel="stylesheet" href="./css/reset.css" /><link rel="stylesheet" href="./css/index.css" /></head><body><div class="wrap"><div class="LoginBox"><div class="LoginFormBox"><h1>登录</h1><h2><span id="warn"></span></h2><form class="LoginForm"><p><label for="user"><img src="./images/user.jpg" /></label><input type="text" name="user" placeholder="用户名：admin" autocomplete="off" id="user" /></p><p><label for="password"><img src="./images/pwd.jpg" /></label><input type="password" name="password" placeholder="密码：123456" autocomplete="off" id="password" /></p><div class="btnBox"><button id="btn" type="button">登录</button></div></form></div></div></div><script src="./js/Ajax.js"></script><script src="./js/axios.min.js"></script><script>const token=window.sessionStorage.getItem("token");token&&(window.location.href="./TableList.html");var userInput=document.querySelector("#user"),passWordInput=document.querySelector("#password");const url="http://localhost:8888/api/";document.querySelector("#btn").addEventListener("click",function(e){if(e.preventDefault(),""==userInput.value||""==passWordInput.value)return document.querySelector("#warn").innerHTML="用户名或密码不能为空",!1;document.querySelector("#warn").innerHTML="",ajax({url:url+"login",type:"post",data:{username:userInput.value,password:passWordInput.value},dataType:"json",timeout:5e3,contentType:"application/json",success:function(e){const t=JSON.parse(e);if(!t.success)return document.querySelector("#warn").innerHTML=t.meta.msg;window.sessionStorage.setItem("token",t.data.token),window.location.href="./index.html"},error:function(e){console.log(e)}})},!1);</script></body></html>